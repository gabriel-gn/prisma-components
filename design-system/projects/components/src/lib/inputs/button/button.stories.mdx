import {Meta, Story, ArgsTable, Canvas, Source} from '@storybook/addon-docs';
import {ButtonComponent} from './button.component';
import {moduleMetadata} from "@storybook/angular";
import {ButtonModule} from "./button.module";
import SourceStory from '!!raw-loader!./button.stories';
import {
  DangerButton,
  defaultArgs,
  DefaultButton,
  InfoButton, LightButton,
  PrimaryButton,
  SecondaryButton,
  WarningButton,
  BusyButton,
  DisabledButton,
  IconButton
} from "./button.stories";
import {MainColors} from "../../../models/colors";

export const argTypes = {
  type: {
    // description: 'CRIAR A DESCRIÇÃO COMO COMENTÁRIO MULTILINHA ACIMA DOS INPUTS NO COMPONENTE',
    table: {
      defaultValue: { summary: defaultArgs.type},
    },
    control: {type: 'select'}, options: Object.values(MainColors),
  },
  busy: {
    table: {
      defaultValue: { summary: defaultArgs.busy},
    },
    control: { type: 'inline-radio'}, options: [true, false],
  },
  busyText: {
    table: {
      defaultValue: { summary: defaultArgs.busyText},
    },
    control: { type: 'text'},
  },
  iconClass: {
    table: {
      defaultValue: { summary: defaultArgs.iconClass},
    },
    control: { type: 'text'},
  },
  outline: {
    table: {
      defaultValue: { summary: defaultArgs.outline},
    },
    control: { type: 'inline-radio'}, options: [true, false],
  },
  disabled: {
    table: {
      defaultValue: { summary: defaultArgs.disabled},
    },
    control: { type: 'inline-radio'}, options: [true, false],
  },
  label: {
    table: {
      defaultValue: { summary: defaultArgs.label},
      disable: true
    },
    control: { type: 'text'},
  },
}

<Meta
  title='Components/Inputs/Buttons'
  component={ButtonComponent}
  argTypes={argTypes}
  parameters={{ badges: [ 'stable' ] }}
  decorators={[
    moduleMetadata({
      imports: [ButtonModule]
    })
  ]}
/>

export const Template = (args) => <ButtonComponent {...args} />

# BUTTON

#### Botões em geral para serem utilizados em aplicações.
##### Permitem o uso de outputs como `(click)` do angular.

<br/>
<br/>

## Botões padrões

Usados em geral para componentes angular. Pra mudar a cor, utilizar o input `type`.
As cores são atribuídas por meio do model `MainColors`

Devem ser usados da seguinte forma:

```
<pm-button [type]="'primary'">
  Button Content
</pm-button>
```

<Canvas>
  <Story name='Default' story={DefaultButton} />
  <Story name='Primary' story={PrimaryButton} />
  <Story name='Secondary' story={SecondaryButton} />
  <Story name='Info' story={InfoButton} />
  <Story name='Warning' story={WarningButton} />
  <Story name='Danger' story={DangerButton} />
  <Story name='Light' story={LightButton} />
</Canvas>

## Botões ocupados e desabilitados

Quando um botão estiver **desabilitado** (`disabled`), ele não emitirá nenhum evento.

Quando um botão estiver **ocupado** (`busy`), ele estará automaticamente desabilitado,
e terá um ícone de carregamento, além de um texto que deve ser informado na propriedade `busyText`.

Devem ser usados da seguinte forma:

<Canvas>
  <Story name='Disabled' story={DisabledButton}/>
  <Story name='Busy' story={BusyButton} />
</Canvas>

## Botões com ícones

Quando for necessário adicionar um ícone antes do texto do botão, adicionar o input `iconClass`,
que deve conter algum ícone válido da biblioteca `unicons` do tipo `line`.

Em geral a sintaxe para adicionar ícones é a seguinte: `uil uil-<tamanho> uil-<tag-do-icone>`.

Por exemplo: `uil uil-lg uil-arrow-to-bottom`

Os ícones podem ser conferidos na
[documentação oficial ou clicando aqui](https://iconscout.com/unicons/explore/line).

<Canvas>
  <Story name='Icon' story={IconButton}/>
</Canvas>

```
<pm-button [iconClass]="'uil uil-lg uil-arrow-to-bottom'" [outline]="true">
  Download
</pm-button>
```

## Module Config

```
import {ButtonModule} from '@mprisma/components';

@NgModule({
  imports: [
    ...,
    ButtonModule,
    ...,
  ]
})
```

## Args Table

<ArgsTable story='Default'/>

## Source

<details>
  <summary>The source stories on file <code>button.stories.ts</code></summary>
  <Source code={SourceStory} language='ts' />
</details>
