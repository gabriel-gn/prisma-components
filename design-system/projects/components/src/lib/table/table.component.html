<table mat-table [dataSource]="itemList" class="prisma-table"
       [ngStyle]="{'border-radius': borderRadius ? 'var(--border-radius-' + borderRadius + ')' : null, 'background-color': backgroundColor ? backgroundColor : null}"
>

  <ng-container *ngFor="let column of columns; let i = index;">
    <ng-container matColumnDef="{{column}}">
      <th mat-header-cell *matHeaderCellDef>{{columnNames ? columnNames[i] : column}}</th>
      <td mat-cell *matCellDef="let item" [ngClass]="{'disabled': item?.disabled === true}">
        <ng-container
          *ngTemplateOutlet="getCellTemplate(item, column);
          context: {$implicit: item, column: column}">
        </ng-container>
      </td>
    </ng-container>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="columns" [ngClass]="{'d-none': !showHeader}"></tr>
  <tr mat-row *matRowDef="let row; columns: columns;"></tr>
</table>

<ng-template #imageCell let-item let-column="column">
  <img [attr.src]="item[column]" [attr.alt]="item[column]"
  class="img-fluid my-2" [ngStyle]="{'height': imageHeight ? imageHeight : '50px', 'max-height': imageHeight ? imageHeight : '50px'}">
</ng-template>

<ng-template #singleLabelCell let-item let-column="column">
  <p class="main-label">{{item[column]}}</p>
</ng-template>

<ng-template #doubleLabelCell let-item let-column="column">
  <p class="main-label">{{item[column][0]}}</p>
  <p class="sub-label">{{item[column][1]}}</p>
</ng-template>

<ng-template #formattedNumberCell let-item let-column="column">
  <p class="main-label">{{numberPrefix}}{{item[column] | number: numberFormat}}</p>
</ng-template>
